(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+lgl":function(l,n,t){"use strict";var e=t("8Y7J"),u=t("3R4e");t.d(n,"a",function(){return o});var s=e.qb({encapsulation:0,styles:[[""]],data:{}});function a(l){return e.Nb(0,[(l()(),e.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,[" manage-posts-page works!\n"])),(l()(),e.sb(2,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Quan ly bai viet"])),(l()(),e.sb(4,0,null,null,13,"table",[["border","1"]],null,null,null,null,null)),(l()(),e.sb(5,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),e.sb(6,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),e.sb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["STT"])),(l()(),e.sb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["B\xe0i vi\u1ebft"])),(l()(),e.sb(11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Ph\xe2n lo\u1ea1i"])),(l()(),e.sb(13,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Ng\xe0y t\u1ea1o"])),(l()(),e.sb(15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Thao t\xe1c"])),(l()(),e.sb(17,0,null,null,0,"tbody",[],null,null,null,null,null))],null,null)}function r(l){return e.Nb(0,[(l()(),e.sb(0,0,null,null,1,"app-manage-posts-page",[],null,null,null,a,s)),e.rb(1,114688,null,0,u.a,[],null,null)],function(l,n){l(n,1,0)},null)}var o=e.ob("app-manage-posts-page",u.a,r,{},{},[])},"3R4e":function(l,n,t){"use strict";t.d(n,"a",function(){return e});class e{constructor(){}ngOnInit(){}}},AlKa:function(l,n,t){"use strict";t.d(n,"a",function(){return r});var e=t("2Vo4"),u=t("Kqap"),s=t("IzEk"),a=t("vkgz");class r{constructor(l){this.db=l,this._data=new e.a([]),this._done=new e.a(!1),this._loading=new e.a(!1),this.subscriptions=[],this.done=this._done.asObservable(),this.loading=this._loading.asObservable()}get(l,n){this.query=l;const t=this.db.collection(l.path,n=>{let t=n;return t=t.limit(0!=l.limit?l.limit:30),l.where&&l.where.length>0?l.where.forEach(l=>{t=t.where(l.field,l.operator,l.value)}):l.orderBy&&l.reverse&&(t=t.orderBy(l.orderBy,l.reverse?"desc":"asc")),t});return this.mapAndUpdate(t),this._data.asObservable().pipe(Object(u.a)((n,t)=>l.prepend?t.concat(n):n.concat(t)))}loadMore(){if(this._done.value||this._loading.value)return;const l=this.getCursor(),n=this.db.collection(this.query.path,n=>{let t=n;return t=t.limit(0!=this.query.limit?this.query.limit:30),this.query.where&&this.query.where.length>0?this.query.where.forEach(l=>{t=t.where(l.field,l.operator,l.value)}):this.query.orderBy&&this.query.reverse&&(t=t.orderBy(this.query.orderBy,this.query.reverse?"desc":"asc")),t=t.startAfter(l)});this.mapAndUpdate(n)}getCursor(){const l=this._data.value;return l.length?this.query.prepend?l[0].doc:l[l.length-1].doc:null}mapAndUpdate(l){if(this._done.value||this._loading.value)return;if(this._loading.value)return;let n=l.snapshotChanges().pipe(Object(s.a)(1),Object(a.a)(l=>{let n=l.map(l=>{const n=l.payload.doc.data();return Object.assign({id:l.payload.doc.id},n,{doc:l.payload.doc})});n=this.query.prepend?n.reverse():n,this._data.next(n),this._loading.next(!1),n.length||this._done.next(!0)})).subscribe();return this.subscriptions.push(n),n}disposeService(){this.subscriptions.forEach(l=>l.unsubscribe())}}},GDr6:function(l,n,t){"use strict";t.d(n,"a",function(){return e}),t("Ktb7"),t("3R4e");class e{}},Ktb7:function(l,n,t){"use strict";t.d(n,"a",function(){return s}),t("TOjp");var e=t("Ua8l"),u=(t("cq5B"),t("lJxs"));class s{constructor(l,n,t,e,u){this.cloudFilestoreApiService=l,this.categoriesService=n,this.router=t,this.route=e,this.db=u,this.newPost={},this.configEditor={counter:{container:"#counter",unit:"word"}},this.loadCategory()}ngOnInit(){this.myDomain=window.location.protocol+"//"+window.location.host+"/";var l=(new Date).getUTCMinutes();this.slugPost=l+Math.floor(1e5+9e5*Math.random()).toString().slice(-4)}onSubmit(){const l=Object.assign({},this.newPost,{slug:this.slugPost,createdDate:new Date(Date.now()),categoryName:this.categories.find(l=>l.categorySlug==this.selectedCat).categoryName,categorySlug:this.selectedCat,readingTime:15});this.cloudFilestoreApiService.create("posts",l).then(l=>{console.log("tao bai viet mowis thanh cong"+l),this.router.navigate(["/"+this.showSlugSEO(this.newPost.title)+this.slugPost],{relativeTo:this.route})}).catch(l=>{console.log("bi tu choi"+l)})}loadCategory(){this.categoriesService.get().subscribe(l=>{this.categories=l})}changeTitle(l){}showSlugSEO(l){return l?e.a.slugify(this.newPost.title)+"-i.":"-i."}changeContent(l){this.newPost.body=l}getData(){this.db.collection("posts").snapshotChanges().pipe(Object(u.a)(l=>l.map(l=>{const n=l.payload.doc.data();return Object.assign({id:l.payload.doc.id},n)}))).subscribe(l=>{var n=JSON.stringify(l),t="data:application/json;charset=UTF-8,"+encodeURIComponent(n),e=document.createElement("a");e.href=t,e.innerHTML="Right-click and choose 'save as...'",document.body.appendChild(e)})}find(l,n){return n=n.split(" "),l.filter(function(l){return n.every(function(n){return l.content.indexOf(n)>-1})})}}},QmOr:function(l,n,t){"use strict";t.d(n,"a",function(){return e});class e{}},SX8x:function(l,n,t){"use strict";var e=t("8Y7J"),u=t("2xMf"),s=t("9OOK"),a=t("TOjp"),r=t("cq5B"),o=t("iInd"),i=t("MuRk"),c=t("Ktb7"),b=t("Xr7G");t.d(n,"a",function(){return f});var d=e.qb({encapsulation:2,styles:[[""]],data:{}});function h(l){return e.Nb(0,[(l()(),e.sb(0,0,null,null,2,"div",[["class","container mx-auto max-w-5xl"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"edit-post-panel",[],null,null,null,u.c,u.b)),e.rb(2,4308992,null,0,s.a,[a.a,r.a,o.k,o.a,i.a,e.h],null,null),(l()(),e.sb(3,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.getData()&&e),e},null,null)),(l()(),e.Lb(-1,null,["Getdata"]))],function(l,n){l(n,2,0)},null)}function p(l){return e.Nb(0,[(l()(),e.sb(0,0,null,null,1,"app-create-posts-page",[],null,null,null,h,d)),e.rb(1,114688,null,0,c.a,[a.a,r.a,o.k,o.a,b.a],null,null)],function(l,n){l(n,1,0)},null)}var f=e.ob("app-create-posts-page",c.a,p,{},{},[])},fCH6:function(l,n,t){"use strict";var e=t("8Y7J"),u=t("SVse"),s=t("iInd"),a=t("tZ/l"),r=t("uAU3");t("37O+"),t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i});var o=e.qb({encapsulation:2,styles:[[":host(.post-card-item){-webkit-animation:.4s cubic-bezier(.25,.25,.25,1.25) both fade-in;animation:.4s cubic-bezier(.25,.25,.25,1.25) both fade-in}@-webkit-keyframes fade-in{0%{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fade-in{0%{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes pulse{0%,50%{background:#d3d3d3;-webkit-transform:scale(1);transform:scale(1)}25%{background:#bababa;-webkit-transform:scale(1.015);transform:scale(1.015)}}@keyframes pulse{0%,50%{background:#d3d3d3;-webkit-transform:scale(1);transform:scale(1)}25%{background:#bababa;-webkit-transform:scale(1.015);transform:scale(1.015)}}"]],data:{}});function i(l){return e.Nb(0,[e.Fb(0,u.e,[e.t]),(l()(),e.sb(1,0,null,null,4,"a",[["class","w-48 md:h-auto md:w-full"]],[[1,"aria-label",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Db(l,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.rb(2,671744,null,0,s.l,[s.k,s.a,u.i],{routerLink:[0,"routerLink"]},null),e.Eb(3,1),(l()(),e.sb(4,0,null,null,1,"app-image-shell",[],[[4,"width",null],[4,"height",null],[8,"className",0],[2,"img-loaded",null]],null,null,a.b,a.a)),e.rb(5,49152,null,0,r.a,[],{class:[0,"class"],src:[1,"src"],width:[2,"width"],height:[3,"height"]},null),(l()(),e.sb(6,0,null,null,17,"div",[["class","p-4 w-full"]],null,null,null,null,null)),(l()(),e.sb(7,0,null,null,6,"div",[["class","flex justify-between mb-2"]],null,null,null,null,null)),(l()(),e.sb(8,0,null,null,2,"p",[["class","text-xs text-gray-700 uppercase font-semibold mb-0"]],null,null,null,null,null)),(l()(),e.sb(9,0,null,null,0,"i",[["class","icon ion-md-folder-open"]],null,null,null,null,null)),(l()(),e.Lb(10,null,[" ",""])),(l()(),e.sb(11,0,null,null,2,"p",[["class","text-xs text-gray-700 uppercase font-semibold mb-0"]],null,null,null,null,null)),(l()(),e.sb(12,0,null,null,0,"i",[["class","icon ion-md-alarm"]],null,null,null,null,null)),(l()(),e.Lb(13,null,[" "," min read"])),(l()(),e.sb(14,0,null,null,4,"p",[["class","font-bold text-base mb-2 hover:text-red-700"]],null,null,null,null,null)),(l()(),e.sb(15,0,null,null,3,"a",[],[[1,"aria-label",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Db(l,16).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.rb(16,671744,null,0,s.l,[s.k,s.a,u.i],{routerLink:[0,"routerLink"]},null),e.Eb(17,1),(l()(),e.Lb(18,null,["",""])),(l()(),e.sb(19,0,null,null,1,"p",[["class","text-gray-800 text-sm hidden md:block"]],null,null,null,null,null)),(l()(),e.Lb(20,null,[" "," "])),(l()(),e.sb(21,0,null,null,2,"p",[["class","text-xs text-gray-700 text-right font-semibold mb-0"]],null,null,null,null,null)),(l()(),e.Lb(22,null,[" ",""])),e.Hb(23,1)],function(l,n){var t=n.component,e=l(n,3,0,"/"+t.showSlugSEO(t.postInfo.title)+t.postInfo.slug);l(n,2,0,e),l(n,5,0,"object-cover h-full w-48 md:h-auto md:w-full",t.postInfo.thumbnail?t.postInfo.thumbnail:"https://picsum.photos/341/213","auto","165px");var u=l(n,17,0,"/"+t.showSlugSEO(t.postInfo.title)+t.postInfo.slug);l(n,16,0,u)},function(l,n){var t=n.component;l(n,1,0,"\u0110\u1ecdc th\xeam v\u1ec1 "+t.postInfo.title,e.Db(n,2).target,e.Db(n,2).href),l(n,4,0,e.Db(n,5).widthBg,e.Db(n,5).heightBg,e.Db(n,5).getClass,e.Db(n,5).imageLoaded),l(n,10,0,null==t.postInfo?null:t.postInfo.categoryName),l(n,13,0,null==t.postInfo?null:t.postInfo.readingTime),l(n,15,0,"\u0110\u1ecdc th\xeam v\u1ec1 "+t.postInfo.title,e.Db(n,16).target,e.Db(n,16).href),l(n,18,0,t.postInfo.title),l(n,20,0,t.postInfo.summary);var u=e.Mb(n,22,0,l(n,23,0,e.Db(n,0),null==t.postInfo?null:t.postInfo.createdDate));l(n,22,0,u)})}}}]);